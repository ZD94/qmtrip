<ion-view title="行程详情页" id="page20">
    <ion-content padding="true" class="has-header">
        <div id="page20-markdown7" style="color:#000000;text-align:right;">
            <p>{{createdAt | date: 'yyyy-MM-dd HH:mm'}}</p>
        </div>
        <ion-list>
            <ion-item>出差事由<span style="float: right;">{{tripDetail.title}}</span></ion-item>
        </ion-list>
        <div class="spacer" style="width: 285px; height: 17px;"></div>
        <ion-list>
            <ion-item>{{startAt | date: 'yyyy-MM-dd HH:mm'}} 至 {{backAt | date: 'yyyy-MM-dd HH:mm'}}
                <br>总预算：{{tripDetail.budget}}元</ion-item>
        </ion-list>
        <div class="spacer" style="width: 285px; height: 17px;"></div>
        <div class="button-bar"></div>
        <ion-list>
            <div style="margin-bottom: 10px" ng-if="goTraffic">
                <ion-item class="item-divider">
                    <span>去程交通</span>
                    <span style="margin-left: 120px;">{{goTraffic.price}}</span>元
                </ion-item>
                <ion-item>
                    <span>{{startAt | date: 'yyyy-MM-dd'}}</span>
                    <br>
                    {{tripDetail.deptCity}}
                    &nbsp;
                    <i ng-if='goTraffic.invoiceType == EInvoiceType.PLANE' class="icon ion-plane"></i>
                    <i ng-if='goTraffic.invoiceType == EInvoiceType.TRAIN' class="icon ion-android-train"></i>
                    <i ng-if='goTraffic.invoiceType == EInvoiceType.HOTEL' class="icon ion-home"></i>
                    <i ng-if='goTraffic.invoiceType == EInvoiceType.OTHER'>-</i>
                    &nbsp;
                    {{tripDetail.arrivalCity}}
                    <br>{{goTraffic.price}}元
                </ion-item>
                <div class="item item-divider">
                    <div ng-if="!goTrafficStatus" class="uploadbtns button-small botton-outline button-positive" ng-uploader accept="image/*" title="goTraffic.title" done="goTraffic.done">
                        上传票据
                    </div>
                    <!--<a ng-if="goTrafficStatus" class="" ng-click="checkInvoice( 'outTraffic' )">查看票据</a>-->
                    <span class="item-note">{{statustext[goTraffic.status]}}</span>
                </div>
            </div>
            <div style="margin-bottom: 10px" ng-if="backTraffic">
                <ion-item class="item-divider">
                    <span>回程交通</span>
                    <span style="margin-left: 120px;">{{backTraffic.price}}</span>元
                </ion-item>
                <ion-item>
                    <span>{{backAt | date: 'yyyy-MM-dd'}}</span>
                    <br>
                    {{tripDetail.deptCity}}
                    &nbsp;
                    <i ng-if='backTraffic.invoiceType == EInvoiceType.PLANE' class="icon ion-plane"></i>
                    <i ng-if='backTraffic.invoiceType == EInvoiceType.TRAIN' class="icon ion-android-train"></i>
                    <i ng-if='backTraffic.invoiceType == EInvoiceType.HOTEL' class="icon ion-home"></i>
                    <i ng-if='backTraffic.invoiceType == EInvoiceType.OTHER'>-</i>
                    &nbsp;
                    {{tripDetail.arrivalCity}}
                    <br>{{backTraffic.price}}元
                </ion-item>
                <div class="item item-divider">
                    <div ng-if="!backTrafficStatus" class="uploadbtns button-small botton-outline button-positive" ng-uploader accept="image/*" title="backTraffic.title" done="backTraffic.done">
                        上传票据
                    </div>
                    <!--<a ng-if="backTrafficStatus" class="" ng-click="checkInvoice( 'backTraffic' )">查看票据</a>-->
                    <span class="item-note">{{statustext[backTraffic.status]}}</span>
                </div>
            </div>
            <div style="margin-bottom: 10px" ng-if="hotel">
                <ion-item class="item-divider">
                    <span>住宿</span>
                    <span style="margin-left: 120px;">{{hotel.price}}</span>元
                </ion-item>
                <ion-item>
                    <span>{{startAt | date: 'yyyy-MM-dd'}}</span>
                    <span>{{backAt | date: 'yyyy-MM-dd'}}</span>
                    <br>
                    {{tripDetail.deptCity}}
                    &nbsp;
                    <i ng-if='hotel.invoiceType == EInvoiceType.PLANE' class="icon ion-plane"></i>
                    <i ng-if='hotel.invoiceType == EInvoiceType.TRAIN' class="icon ion-android-train"></i>
                    <i ng-if='hotel.invoiceType == EInvoiceType.HOTEL' class="icon ion-home"></i>
                    <i ng-if='hotel.invoiceType == EInvoiceType.OTHER'>-</i>
                    &nbsp;
                    {{tripDetail.arrivalCity}}
                    <br>{{hotel.price}}元
                </ion-item>
                <div class="item item-divider">
                    <div ng-if="!hotelStatus" class="uploadbtns button-small botton-outline button-positive" ng-uploader accept="image/*" title="hotel.title" done="hotel.done">
                        上传票据
                    </div>
                    <!--<a ng-if="hotelStatus" class="" ng-click="checkInvoice( 'outTraffic' )">查看票据</a>-->
                    <span class="item-note">{{statustext[hotel.status]}}</span>
                </div>
            </div>
            <div ng-if='other'>
                <ion-item class="item-divider">
                    <span>补助</span>
                    <span style="margin-left: 120px;">{{other.price}}</span>元
                </ion-item>
                <ion-item>
                    <span>{{startAt | date: 'yyyy-MM-dd'}}</span>
                    <span>{{backAt | date: 'yyyy-MM-dd'}}</span>
                    <br>
                    {{tripDetail.deptCity}}
                    &nbsp;
                    <i ng-if='other.invoiceType == EInvoiceType.PLANE' class="icon ion-plane"></i>
                    <i ng-if='other.invoiceType == EInvoiceType.TRAIN' class="icon ion-android-train"></i>
                    <i ng-if='other.invoiceType == EInvoiceType.HOTEL' class="icon ion-home"></i>
                    <i ng-if='other.invoiceType == EInvoiceType.OTHER'>-</i>
                    &nbsp;
                    {{tripDetail.arrivalCity}}
                    <br>{{other.price}}元
                </ion-item>
                <div class="item item-divider">
                    <div ng-if="!otherStatus" class="uploadbtns button-small botton-outline button-positive" ng-uploader accept="image/*" title="other.title" done="other.done">
                        上传票据
                    </div>
                    <!--<a ng-if="otherStatus" class="" ng-click="checkInvoice( 'outTraffic' )">查看票据</a>-->
                    <span class="item-note">{{statustext[other.status]}}</span>
                </div>
            </div>
        </ion-list>
        <div class="button-bar"></div>
        <div class="button-bar"></div>
        <div ng-if="tripDetail.status == EPlanStatus.APPROVE_NOT_PASS|| tripDetail.status == EPlanStatus.WAIT_COMMIT">
            <a ng-click="approveTripPlan()" id="page20-button60" class="button button-positive  button-block" no-back>提交审核</a>
        </div>

        <div ng-if="tripDetail.status != EPlanStatus.APPROVE_NOT_PASS && tripDetail.status != EPlanStatus.WAIT_COMMIT">
            <span class="button button-stable button-block" no-back>{{statustext[tripDetailId['status']] || '审核中'}}</span>
        </div>
    </ion-content>
</ion-view>