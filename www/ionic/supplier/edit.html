<ion-view title="预订供应商管理" class="supplier">
    <ion-content padding="false" scroll="false" class="has-header">
        <div class="flex-c10">
            <ion-scroll>
                <div class="list self-define">
                    <div class="item item-divider supplier-title">
                        专属服务商
                        <span class="pull-right">不支持订单关联</span>
                    </div>
                    <div class="item item-divider self-detail" ng-repeat="ah in suppliers">
                        <div ng-click="editSupplier(ah.id)" class="pull-left">
                            <div class="logo pull-left">
                                <img class="avatar-img" ng-src="{{getImageUrl(ah.logo)}}" ng-if="ah.logo">
                            </div>
                            <span class="self-name">{{ah.name}}</span>
                        </div>
                        <label class="toggle pull-right toggle-positive" ng-click="saveSupplierStatus(ah)">
                            <input type="checkbox" ng-checked="ah.isInUse" ng-model="ah.isInUse">
                            <div class="track">
                                <div class="handle"></div>
                            </div>
                        </label>
                    </div>
                    <div class="item item-icon-left add-supplier" ng-click="addSupplier()">
                        <i class="icon ion-plus-round"></i>
                        添加供应商
                    </div>
                </div>
                <div class="list recommend-supplier">
                    <div class="item item-divider supplier-title">
                        推荐服务商
                        <span class="pull-right">支持订单关联</span>
                    </div>
                    <div class="item supplier-item" ng-repeat="c in canImportList">
                        <div class="pull-left">
                            <div class="logo">
                                <img class="avatar-img" ng-src="{{getImageUrl(c.logo)}}" ng-if="c.logo">
                            </div>
                        </div>
                        <label class="toggle pull-right toggle-positive" ng-click="savePublicSupplierStatus(c)">
                            <input type="checkbox" ng-model="c.isPointed" ng-checked="c.isPointed">
                            <div class="track">
                                <div class="handle"></div>
                            </div>
                        </label>
                    </div>
                </div>

                <div class="list recommend-supplier">
                    <div class="item item-divider supplier-title">
                        其他服务商
                        <span class="pull-right">不支持订单关联</span>
                    </div>
                    <div class="item supplier-item" ng-repeat="n in canNotImportList">
                        <div class="pull-left">
                            <div class="logo">
                                <img class="avatar-img" ng-src="{{getImageUrl(n.logo)}}" ng-if="n.logo">
                            </div>
                        </div>
                        <label class="toggle pull-right toggle-positive" ng-click="savePublicSupplierStatus(n)">
                            <input type="checkbox" ng-model="n.isPointed" ng-checked="n.isPointed">
                            <div class="track">
                                <div class="handle"></div>
                            </div>
                        </label>
                    </div>
                </div>
                <p class="supplier-text">
                    说明：<br>
                    开启显示系统推荐服务商功能，员工可在预订时选择下列列表中的专属服务商以及所有推荐服务商和其他服务商，关闭显示系统推荐服务商，则只显示列表中开启的服务商。
                </p>
            </ion-scroll>
            <a class="button button-calm button-full" ng-click="saveChanges()">保存</a>
        </div>
    </ion-content>
</ion-view>