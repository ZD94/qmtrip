<ion-view title="预订供应商管理" class="supplier">
    <ion-content padding="true" class="has-header">
        <!--<ion-toggle class="showSupplier" toggle-class="toggle-track" ng-model="showSupplier">指定商旅供应商</ion-toggle>-->
        <div class="list assignSupplier">
            <div class="item">
                是否显示系统推荐服务商
                <label class="toggle pull-right" ng-click="toggleAssignSupplier(assignSupplier)">
                    <input type="checkbox" ng-checked="assignSupplier" ng-model="assignSupplier">
                    <div class="track">
                        <div class="handle"></div>
                    </div>
                </label>
            </div>
        </div>
        <p class="supplier-text">
            说明：<br>
            开启指定商旅供应商功能，员工在出差审批通过后可以通过指定商旅供应商进行出行预订，预订完成后可以导入部分供应商订单获取实时出行数据。关闭该功能，员工可以任意渠道预订。
        </p>
        <div>
            <div class="list self-define">
                <div class="item item-divider supplier-title">
                    专属服务商
                    <span class="pull-right">不支持订单关联</span>
                </div>
                <div class="item item-divider self-detail" ng-repeat="ah in suppliers">
                    <div ng-click="editSupplier(ah.id)" class="pull-left" style="width:180px">
                        <div class="logo pull-left">
                            <img class="avatar-img" ng-src="/attachments/{{ah.logo}}" ng-if="ah.logo">
                        </div>
                        <span class="self-name">{{ah.name}}</span>
                    </div>
                    <label class="toggle pull-right" ng-click="saveSupplierStatus(ah)">
                        <input type="checkbox" ng-checked="ah.isInUse" ng-model="ah.isInUse">
                        <div class="track">
                            <div class="handle"></div>
                        </div>
                    </label>
                </div>
                <div class="item item-icon-left item-icon-right add-supplier" ng-click="addSupplier()">
                    <i class="icon ion-plus-round"></i>
                    添加供应商
                    <i class="icon ion-chevron-right" style="color:#545454"></i>
                </div>
            </div>
            <div class="list recommend-supplier">
                <div class="item item-divider supplier-title">
                    推荐供应商
                    <span class="pull-right">支持订单关联</span>
                </div>
                <div class="item" ng-repeat="c in canImportList">
                    <img class="avatar-img" ng-src="/attachments/{{c.logo}}" ng-if="c.logo">
                    <label class="toggle pull-right" ng-click="savePublicSupplierStatus(c)">
                        <input type="checkbox" ng-model="c.isPointed" ng-checked="c.isPointed">
                        <div class="track">
                            <div class="handle"></div>
                        </div>
                    </label>
                </div>
            </div>

            <div class="list recommend-supplier">
                <div class="item item-divider supplier-title">
                    推荐供应商
                    <span class="pull-right">不支持订单关联</span>
                </div>
                <div class="item" ng-repeat="n in canNotImportList">
                    <img class="avatar-img" ng-src="/attachments/{{n.logo}}" ng-if="n.logo">
                    <label class="toggle pull-right" ng-click="savePublicSupplierStatus(n)">
                        <input type="checkbox" ng-model="n.isPointed" ng-checked="n.isPointed">
                        <div class="track">
                            <div class="handle"></div>
                        </div>
                    </label>
                </div>
            </div>
        </div>
    </ion-content>
</ion-view>