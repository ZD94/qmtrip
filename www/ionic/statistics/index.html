<ion-view title="差旅统计-本月预算" id="page24">
    <ion-content padding="false" class="has-header" scroll="false">
        <div class="flex-c01">
            <spanchange class="item item-input date_selected" ng-model="data.monthSelection">

            </spanchange>
            <ion-scroll style="padding: 10px;">
                <div class="button-bar budgetMenu">
                    <a id="page24-button73" class="button button-positive ">汇总</a>
                    <a href="#/statistics/budget?type=S" id="page24-button74" class="button button-outline  button-positive">按员工</a>
                    <a href="#/statistics/budget?type=P" id="page24-button75" class="button button-outline  button-positive">按项目</a>
                    <a href="#/statistics/budget?type=D" id="page24-button76" class="button button-outline  button-positive">按部门</a>

                </div>

                <ion-list show-delete="showDelete" class="tripStat">
                    <ion-item class="item">
                        <div>
                            <p>计划支出(元)</p>
                            <h2 style="color: #4a90e2">{{statistic.planBudget || 0}}</h2>
                        </div>
                        <div>
                            <p>累计支出(元)</p>
                            <h2 style="color: #F5A623">{{statistic.expenditure || 0}}</h2>
                        </div>
                    </ion-item>
                    <ion-item class="item">
                        <div>
                            <p>计划出差人数(次)</p>
                            <h2 style="color: #9013fe">{{statistic.planTripNum || 0}}</h2>
                        </div>
                        <div>
                            <p>已完成出差人数(次)</p>
                            <h2 style="color: #50e3c2">{{statistic.completeTripNum || 0}}</h2>
                        </div>
                    </ion-item>
                </ion-list>

                <div class="spacer" style="width: 300px; height: 10px;"></div>
                <div class="link-div">
                    <!--<i class="icon ion-flag" style="font-size: 0.5em; color: red;"></i>-->
                    <a ng-click="staffTripRecord()">
                        <div class="row item item-body item-icon-right" style="border-radius: 3px 3px 0 0">
                            <i class="fa fa-list"></i>员工出差记录<i class="icon ion-chevron-right"></i>
                        </div>
                    </a>
                    <a href="#/statistics/distribution">
                        <div class="row item item-body item-icon-right">
                            <i class="fa fa-map"></i>员工地图分布<i class="icon ion-chevron-right"></i>
                        </div>
                    </a>
                </div>

                <div class="spacer" style="width: 300px; height: 10px;"></div>
                <ion-list show-delete="showDelete" class="tripStat">
                    <ion-item class="item" style="border-top: 0;border-radius: 3px 3px 0 0">
                        <div>
                            <p>动态预算(元)</p>
                            <h2 style="color: #4a90e2">{{statistic.completeBudget}}</h2>
                        </div>
                        <div>
                            <p>实际支出(元)</p>
                            <h2 style="color: #F5A623">{{statistic.actualExpenditure || 0}}</h2>
                        </div>
                    </ion-item>
                </ion-list>
                <div class="row withChart">
                    <div class="col col-50 doughnut-text">
                        <canvas id="doughnut" class="chart chart-doughnut"
                                chart-data="saveMoneyChart.data"
                                chart-labels="saveMoneyChart.labels"
                                chart-options="saveMoneyChart.options"
                                chart-dataset-override="saveMoneyChart.dataset"
                                width="170">
                        </canvas>
                        <div class="text-in-doughnut">
                            <span>节省</span>
                            <p class="savePercent">{{(statistic.savedMoney/(statistic.completeBudget || 1)*100).toFixed(1)}}%</p>
                        </div>
                    </div>
                    <div class="col col-50 right-of-doughnut">
                        <p style="font-size: 12px;">员工节省(元)</p>
                        <h2 style="font-size: 30px;color: #417505;">{{statistic.savedMoney}}</h2>
                    </div>
                </div>
                <div class="link-div">
                    <a href="#/statistics/staff-saved-rank">
                        <div class="row item item-body item-icon-left item-icon-right">
                            <i class="ion-android-person"></i>员工节省排行<i class="icon ion-chevron-right"></i>
                        </div>
                    </a>
                </div>
                <div class="spacer" style="width: 300px; height: 30px;"></div>
            </ion-scroll>


        </div>

    </ion-content>
</ion-view>