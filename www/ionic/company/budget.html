<ion-view title="出差统计-本月预算" id="page24">
    <ion-content padding="true" class="has-header">
        <div class="button-bar">
            <button id="page24-button73" class="button button-positive  button-block">本月预算</button>
            <a href="#/company/record" id="page24-button74" class="button button-stable  button-block">出差记录</a>
            <a href="#/company/distribution" id="page24-button75" class="button button-stable  button-block">员工分布</a>
        </div>
        <label class="item item-select">
            <span class="input-label">当前统计</span>
            <select ng-change="monthChange(queryMonth)" id="monthSelect" ng-model="queryMonth" ng-options="item.value as item.name for item in months"></select>
        </label>
        <div class="spacer" style="width: 300px; height: 30px;"></div>
        <div class="row withChart">
            <div class="col col-50">
                <canvas id="doughnut" class="chart chart-doughnut"
                        chart-data="saveMoneyChart.data"
                        chart-labels="saveMoneyChart.labels"
                        chart-options="saveMoneyChart.options"
                        chart-dataset-override="saveMoneyChart.dataset"
                        width="170">
                </canvas>
                <div class="chart_info">
                    <span>节省</span>
                    <p class="savePercent">{{(saveMoneyChart.data[0]/saveMoneyChart.data[1]*100).toFixed(1)}}%</p>
                </div>
            </div>
            <div class="col col-50">
                <ion-list>
                    <ion-item>
                        <p>动态预算(元)</p>
                        <h2>{{statistic.dynamicBudget}}</h2>
                    </ion-item>
                    <ion-item >
                        <p>费用节省(元)</p>
                        <h2>{{statistic.savedMoney}}</h2>
                    </ion-item>
                    <div class="item_divider"></div>
                </ion-list>
            </div>
        </div>
        <div class="row project_info">
            <div class="col col-50">
                <p>出差人数(人次)</p>
                <h2>{{statistic.staffNum}}</h2>
            </div>
            <div class="col col-50">
                <p>运行项目(个)</p>
                <h2>{{statistic.projectNum}}</h2>
            </div>
        </div>
        <!--<ion-list>-->
            <!--<ion-item style="font-size: 0.8em;">-->
                <!--<progress-bar ng-if="isShow1" title="{{option1.title}}" all="{{option1.all}}" cover="{{option1.cover}}" color="blue">动态预算</progress-bar>-->
                <!--<progress-bar ng-if="isShow2" title="{{option2.title}}" all="{{option2.all}}" cover="{{option2.cover}}" color="green">节省费用</progress-bar>-->
            <!--</ion-item>-->
        <!--</ion-list>-->
        <div class="spacer" style="width: 300px; height: 30px;"></div>

        <div class="item-divider" ng-if="staffSaves.length>0">&nbsp;员工节省排行</div>
        <ion-list>
            <ion-item ng-repeat="v in staffSaves" style="font-size: 0.8em;">
                <div style="display: block; position: absolute; width: 30px; height: 30px; text-align: center; line-height: 30px; border-radius: 50%; color: white; background:#2495da;">{{v.name| limitTo: -1}}</div>
                <span style="padding-left: 50px;">{{v.name}}</span><span style="float: right;">{{v.save| currency: ''}}元</span>
            </ion-item>
        </ion-list>
    </ion-content>
</ion-view>