<ion-view title="出差统计-本月预算" id="page24">
    <ion-content padding="false" class="has-header" scroll="false">
        <div class="flex-c01">
            <div class="item item-input date_selected">
                <i class="icon ion-chevron-left" ng-click="monthChange()"></i>
                <span class="data_show">{{monthSelection.showStr}}</span>
                <i class="icon ion-chevron-right" ng-click="monthChange(true)"></i>
            </div>
            <ion-scroll style="padding: 10px;">
                <div class="button-bar budgetMenu">
                    <a href="#/company/budget" id="page24-button73" class="button button-positive button-outline">汇总</a>
                    <a ng-class="{true: '', false: 'button-outline'}[isSActive]" class="button button-positive" ng-click="searchStatistics('S')">按员工</a>
                    <a ng-class="{true: '', false: 'button-outline'}[isPActive]" class="button button-positive" ng-click="searchStatistics('P')">按项目</a>
                    <a ng-class="{true: '', false: 'button-outline'}[isDActive]" class="button button-positive" ng-click="searchStatistics('D')">按部门</a>
                </div>


                <form class="list">
                    <label class="item item-input">
                        <i class="icon ion-search placeholder-icon"></i>
                        <input ng-change="searchStatistics()" type="search" placeholder="{{placeholder}}" ng-model="params.keyWord">
                    </label>
                </form>

                <ion-list>
                    <ion-item class="item stat-label-content" ng-repeat="en in statisticData" ng-click="goToStaffRecords(en.keyInfo.name)">
                        <div class="bar-header">{{en.keyInfo.name}}
                    <span style="float: right">查看详情
                        <i class="icon ion-chevron-right"></i>
                    </span>
                        </div>
                        <div class="left-div">
                            <div>
                                <div class="label-top-left">
                                    <p>已完成出差({{showManTimes}})</p>
                                    <h2 class="ng-binding" style="text-align: center;">{{en.completeTripNum || 0}}</h2>
                                </div>
                                <div class="label-top-right">
                                    <p>已支出(元)</p>
                                    <h2 class="ng-binding" style="text-align: center;">{{en.expenditure || 0}}</h2>
                                </div>
                            </div>

                            <div>
                                <div class="label-bottom-left">
                                    <p>还将进行出差({{showManTimes}})</p>
                                    <h2 class="ng-binding" style="text-align: center;">{{(en.planTripNum || 0)-(en.completeTripNum || 0)}}</h2>
                                </div>
                                <div class="label-right">
                                    <p>计划支出(元)</p>
                                    <h2 class="ng-binding" style="text-align: center;">{{en.planBudget || 0}}</h2>
                                </div>
                            </div>
                        </div>
                        <div class="right-div">
                            <p>实际节省(元)</p>
                            <h2 class="ng-binding" style="text-align: center;">{{en.isSpecialApprove? 0 : (en.savedMoney || 0)}}</h2>
                        </div>
                    </ion-item>
                </ion-list>
            </ion-scroll>
        </div>
    </ion-content>
</ion-view>