<div class="bar bar-subheader">
    <div class="flex-subheader">
        <label class="item item-input">
            <i class="icon ion-search placeholder-icon"></i>
            <input type="text" placeholder="Search" ng-model="keywords" ng-change="searchKeyword(keywords)">
        </label>
        <span class="fa sort_btn" ng-class="[selected.icon]" sort-select select-list="arrlist" select="selected" done="sortBy">
            <span ng-if="selected.value == ''">时间</span>
            <span ng-if="selected.value == 'nameDesc'">姓名</span>
            <span ng-if="selected.value == 'nameAsc'">姓名</span>
            <span ng-if="selected.value == 'role'">角色</span>
            <span ng-if="selected.value == 'travelPolicy'">标准</span>
            <span ng-if="selected.value == 'status'">激活</span>
        </span>
        <span class="ion-android-person-add" ng-click="addNewStaff()"></span>
    </div>
</div>
<ion-content padding="true" class="has-header has-subheader">
    <div class="list">
        <div class="item department-list item-icon-right" ng-repeat="item in departments" ng-click="goChildDept(item.id)">
            <div class="department-icon"><i class="icon ion-ios-folder"></i></div>
            {{item.name}}({{item.staffNum || 0}}人)
            <i class="icon ion-chevron-right"></i>
        </div>
    </div>
    <div class="list" >
        <div class="item staff-list" ng-repeat="item in staffs" ng-click="showStaff(item.id)">
            <!--<div class="staff-avatar-text">{{item.name}}</div>-->
            <staff-avatar staff="item" class="staff-avatar"></staff-avatar>
            <div class="staff-info">
                <p>{{item.name}}
                    <span class="staff-role" ng-class="{'bg-blue':item.roleId == EStaffRole.ADMIN}"
                          ng-if="item.roleId == EStaffRole.ADMIN || item.roleId == EStaffRole.OWNER"
                    >{{EStaffRoleNames[item.roleId] }}</span>
                </p>
                <p>{{item.travelPolicy.name}}</p>
            </div>


            <span class="staff-flag bg-gray" ng-if="item.newRegister">未激活</span>
            <span class="staff-flag" ng-if="item.newStaff">新加入</span>
        </div>
        <!--<div class="item staff-list">-->
        <!--<img class="staff-avatar-img" src="ionic/images/logo.png">-->
        <!--</div>-->
    </div>

    <!--<ion-list show-delete="showDelete">-->
    <!--<ion-item ng-repeat="department in departments">-->
    <!--<ion-delete-button class="ion-minus-circled" ng-click="deleteDept(department, $index)"> </ion-delete-button>-->
    <!--{{department.department.name}}-->
    <!--<span class="item-note">{{department.staffnum}}人</span>-->
    <!--<ion-option-button class="button-calm" ng-click="editDept(department.department)"> 修改 </ion-option-button>-->
    <!--&lt;!&ndash;<span class="item-note" ng-click="deleteDept(department.department, $index)">X</span>span&ndash;&gt;-->
    <!--</ion-item>-->
    <!--</ion-list>-->
    <!--<button id="page29-button87" class="button button-positive  button-block" ng-click="newdepart()">增加部门</button>-->
    <!--<button id="page29-button88" class="button button-stable  button-block" ng-click="showDelete = !showDelete;showReorder = false">管理</button>-->

</ion-content>
<div class="tabs">
    <a class="tab-item" ng-click="addDepartment()">
        添加子部门
    </a>
    <a class="tab-item" ng-click="setDepartment()">
        部门管理
    </a>
    <a class="tab-item">
        批量移动
    </a>
</div>