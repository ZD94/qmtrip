<ion-view title="员工管理">
    <ion-content class="has-header" padding="true">
        <div class="new-staff">
            <label class="item item-input">
                <span class="input-label">姓名*</span>
                <input type="text" ng-model="staff.name" placeholder="请输入姓名">
            </label>
            <label class="item item-input">
                <span class="input-label">手机号*</span>
                <input type="text" ng-model="staff.mobile" placeholder="请输入手机号" ng-readonly="staffId">
            </label>
            <label class="item item-input">
                <span class="input-label">邮箱</span>
                <input type="text" ng-model="staff.email" placeholder="请输入邮箱" ng-readonly="staffId">
            </label>
            <div class="item">
                性别
                <div class="sex">
                    <new-radio ng-repeat="sex in sexes" ng-model="staff.sex" ng-check-options="sex"></new-radio>
                </div>
            </div>
            <div class="item item-icon-right avatars" ng-if="!staffId">
                头像
                <div class="item-note" ng-uploader accept="image/png, image/jpeg, image/gif" url="uploadUrl" edit="true" width="160" height="160" done="invoicefuc.done">
                    <img class="avatar-img" ng-src="{{getImageUrl(staff.avatar)}}" ng-if="staff.avatar">
                    <span ng-if="!staff.avatar" class="avatar-text" ng-style="{background: staff.avatarColor || '#2495da'}">
                        {{(staff.name || "暂无") | shortName }}</span>
                </div>
            </div>
            <div class="spacer" style="height: 10px;"></div>
            <div class="item item-icon-right" ng-click="chooseRole()">
                角色
                <span class="item-note">{{EStaffRoleNames[staff.roleId]}}</span>
                <i class="icon ion-chevron-right"></i>
            </div>
            <div class="item item-icon-right" ng-click="choosePolicy()">
                差旅标准
                <span class="item-note">{{staffPolicyName}}</span>
                <i class="icon ion-chevron-right"></i>
            </div>
            <div class="item">
                部门
                <span class="item-note">{{departmentNames}}</span>
            </div>
            <div class="item item-icon-left" ng-repeat="department in selectDepartments track by $index">
                <i class="icon ion-ios-folder"></i>{{department.name}}
            </div>
            <div class="item" ng-click="setDepartment()">
                <a>设置部门</a>
            </div>
            <a class="button button-block button-calm" ng-click="saveStaff()">保存</a>
            <a class="button button-block button-calm button-outline"
               ng-if="!staffId"
               ng-click="addAnother()">保存并添加下一个</a>
        </div>
    </ion-content>
</ion-view>