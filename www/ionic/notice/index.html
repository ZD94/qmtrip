<ion-view title="通知通告" id="page30">
    <ion-content padding="true" class="has-header">
        <ion-refresher
                pulling-text="下拉刷新",
                on-refresh="vm.doRefresh()"
        ></ion-refresher>
        <ion-list class="list notice">
            <ion-item class="item item-body" ng-repeat="notice in notices track by $index" ng-click="detail(notice)">
                <div class="notice_title">
                    <span>{{notice.title}}</span>
                    <span ng-if="!notice.isRead" class="new_notice icon ion-record"></span>
                    <span class="item-note">{{notice.createdAt | date : 'yyyy-MM-dd'}}</span>
                </div>
                <div>
                    <div class="notice_desc">{{notice.description}}</div>
                </div>
                <ion-option-button class="button-assertive" ng-click="delete(notice, $index)"> 删除 </ion-option-button>
            </ion-item>
        </ion-list>
        <div>
            <div ng-if="!vm.hasNextPage()" class="getMoreOrNoMore">没有更多记录了</div>
        </div>
        <ion-infinite-scroll ng-if="vm.hasNextPage()" on-infinite="vm.nextPage()"></ion-infinite-scroll>
    </ion-content>
</ion-view>