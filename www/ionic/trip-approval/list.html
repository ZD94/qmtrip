<ion-view title="出差请示" id="page3">
    <ion-content padding="true" class="has-header">
        <div class="button-bar jl_approvelist">
            <a ng-click="changeTo('ALL')" class="button button-small" ng-class="filter == 'ALL' ? 'active': ''">全部</a>
            <a ng-click="changeTo('WAIT_APPROVE')" class="button button-small" ng-class="filter == 'WAIT_APPROVE' ? 'active': ''">待我审批</a>
            <a ng-click="changeTo('APPROVE_PASS')" class="button button-small" ng-class="filter == 'APPROVE_PASS' ? 'active': ''">审批通过</a>
            <a ng-click="changeTo('APPROVE_FAIL')" class="button button-small" ng-class="filter == 'APPROVE_FAIL' ? 'active': ''">审批驳回</a>
        </div>
        <trip-plan data="trip" ng-repeat="trip in tripPlans track by trip.id" click="enterDetail" show-header="true"></trip-plan>
        <div class="getMoreOrNoMore" ng-if="hasNextPage()"><i class="icon ion-arrow-up-a"></i>上拉加载更多</div>
        <div class="getMoreOrNoMore" ng-if="!hasNextPage()">没有更多记录了</div>
        <ion-infinite-scroll on-infinite="loadMore('{{filter}}')" ng-if="hasNextPage()"></ion-infinite-scroll>
    </ion-content>
</ion-view>